<!DOCTYPE html>

<html lang="it">

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Eurotherm Leonardo Planner</title>
	<link rel="icon" href="tab_logo.png">
	<link href="style.css" rel="stylesheet">

	<script>

		function hide_div()
		{
			var mydiv = document.getElementById("reg");
			mydiv.style.display = 'none';
		}

		function show_div()
		{
			var mydiv = document.getElementById("reg");
			mydiv.style.display = 'block';
		}

		function validate_form()
		{
			fname = document.forms["leodata"]["filename"].value
			if (fname=="") {
				window.alert("File non inserito")
				return false
			}
			mtype = document.forms["leodata"]["head"].value
			if (mtype=="cold") {
				height = document.forms["leodata"]["height"].value
				hval = parseFloat(height.replace(",", "."))
				if (hval<1 || hval>10 || isNaN(hval)) {
					window.alert("Altezza media non valida")
					return false
				}
			}
			return true
		}

	</script>
</head>

<body>


	<div class="header">
		<div class="container">
			<h1>
			<img src="logo.png" alt="">
			LEONARDO PLANNER</h1>
		</div>
	</div>

	<div class="navmenu">
		<ul>
    		<li><a href="index.html">Home</a></li>
			<li><a href="cgi-bin/show_file.py">Risultati</a></li>
    		<li><a href="cgi-bin/archive.py">Archivio</a></li>
    		<li><a href="https://www.eurotherm.info/it/contatti">Contatti</a></li>
		</ul>
	</div>


	<h3>Compila i campi sottostanti per il soffitto radiante Leonardo</h3>

	<form action="cgi-bin/save_file.py" 
		  method="post" 
		  name="leodata"
		  autocomplete="off"
		  onsubmit="return validate_form()"
		  enctype="multipart/form-data">

	<input name="file" id="fileid" hidden/>

	<div class="section">
		<h4>1. Carica il file formato DXF </h4>
		<p><label for="filename" id="sel1">Seleziona un file:</label>
		<input type="file" id="dxfinput" name="filename" accept=".dxf" /> </p>

		<p><label for="units">Unit&agrave; di misura:</label>
		<select name="units">
    		<option value="auto">auto</option>
  			<option value="0.1">millimetri</option>
  			<option value="1">centimetri</option>
  			<option value="100">metri</option>
		</select>

	</div>
	<div class="section">
		<h4>2. Seleziona dettagli impianto</h4>
			<p id="ra"><input type="radio" checked="yes" name="head" value="warm" onchange="hide_div()"/>Solo riscaldamento</p>
  			<p id="ra"><input type="radio"  name="head" value="cold" onchange="show_div()"/>Riscaldamento/raffrescamento </p>
		<label for="ptype">Tipologia:</label>
		<select name="ptype">
    		<option value="55">Leonardo 5,5</option>
  			<option value="35">Leonardo 3,5</option>
  			<option value="30">Leonardo 3,0 plus</option>
		</select>
	</div>
	<div class="section" style="display:none" id="reg">
		<h4>3. Trattamento Aria</h4>

		<!--label for="regulator">Regolazione:</label>
		<select name="regulator">
    		<option value="None">Senza regolazione</option>
  			<option value="SPT">SmartPoint T + Testine 230 V, 2 fili</option>
  			<option value="SPTU">SmartPoint T/U + Testing 230 V, 2 fili</option>
  			<option value="head">Testine 230 V, 2 fili</option>
		</select-->

		<p id="rg">
		<!--label for="aircond">Tipo di regolazione:</label-->
		<select name="regulator">
    		<option value="dehum">Solo deumidificazione</option>
  			<option value="dehum_int">Deumidificazione e integrazione</option>
  			<option value="dehum_int_ren">Deumidificazione, integrazione e rinnovo</option>
		</select>
		</p>

		<p id=rg">
		<label for="inst">Installazione:</label>
		<select name="inst">
    		<option value="vert">Verticale</option>
  			<option value="horz">Orizzontale</option>
		</select>
		</p>

		<p id=rg">
		<label for="height">Altezza media in metri:</label>
		<input type="text" id="height" name="height" value="2.4">
		</p>

	</div>

	<button id="submit" type="submit">Calcola</button>
	</form>


	<script>

		document.getElementById("dxfinput").onchange = function () {
			fileref = document.getElementById("fileid");
			fileref.value = this.value.replace(/.*[\/\\]/, '');
		};

	</script>
</body>

</html>
